---
subcategory: "Identity and Access Management (IAM)"
---

# hsdp_iam_device

Provides a resource for managing HSDP IAM devices.

## Example Usage

The following example creates a device

```hcl
resource "random_password" "test_device" {
}

resource "random_uuid" "test_device" {
}

// Create a test device
resource "hsdp_iam_device" "test_device" {
  login_id = "test_device_a"
  password = random_password.test_device.result
  
  external_identifier {
    type {
      code = "ID"
      text = "Device Identifier"
    }
    system = "http://www.philips.co.id/c-m-ho/cooking/airfryer"
    value = "001"
  }
  
  
  type = "ActivityMonitor"
  text = "This is a test device managed by Terraform"
  
  organization_id = var.org_id
  application_id  = var.app_id
  
  for_test  = true
  is_active = true
  
  global_reference_id = random_uuid.test_device.result
}
```

## Argument Reference

The following arguments are supported:

* `login_id` - (Required) The login id of the device
* `password` - (Required) The password of the device
* `organization_id` - (Required) the organization ID (GUID) this device should be attached to
* `application_id` - (Required) the application ID (GUID) this device should be attached to
* `text` - (Optioinal) Text describing the device
* `validity` - (Optional) Integer. Validity of service (in months). Minimum: 1, Maximum: 600 (5 years), Default: 12
* `token_validity` - (Optional) Integer. Access Token Lifetime (in seconds). Default: 1800 (30 minutes), Maximum: 2592000 (30 days)
* `default_scopes` - (Required) Array. Default scopes. You do not have to specify these explicitly when requesting a token. Minimum: ["openid"]
* `self_managed_private_key` - (Optional)  RSA private key in PEM format. When provided, overrides the generated certificate / private key combination of the
  IAM service. This gives you full control over the credentials. When not specified, a private key will be generated by IAM
* `self_managed_expires_on` - (Optional) Sets the certificate validity. When not specified, the certificate will have a validity of 5 years.

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

* `id` - The GUID of the client
* `service_id` - (Generated) The service id
* `private_key` - (Generated) The active private of the service
* `expires_on` - (Generated) Sets the certificate validity. When not specified, the certificate will have a validity of 5 years.
* `organization_id` - The organization ID this service belongs to (via application and proposition)

## Import

Existing services can be imported, however they will be missing their private key rendering them pretty much useless. Therefore, we recommend creating them using the provider.
